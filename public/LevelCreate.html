<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Level Create</title>        
        <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css"/>
        <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
        <script type="text/javascript" src="http://cdn.gamequeryjs.com/jquery.gamequery.js"></script>   
        <style>
            #page1_header{
                text-align: center;
            }
            #canvasBlock{
                width:75%;
                text-align: center
            }
            #buttonBlock{
                width:25%
            }
            #playground{
                background-color: rgb(200,200,200);
                position: relative;
                margin: 0 auto;
                width: 568px;
                height: 320px;
            }            
        </style>
    </head>
    <body>
        <div data-role="page" data-theme="a">
            <div data-role="header" id="page1_header">
                <h1>Level Create</h1>                                
            </div>
            <div class="ui-content" id="page1_main">
                <div class="ui-grid-a">
                    <div class="ui-block-a" id="canvasBlock">
                        <div id="playground">
                            
                        </div>                        
                    </div>
                    <div class="ui-block-b" id="buttonBlock">                        
                        <div class="ui-body ui-body-a" id="bblock_Loading">
                            <input type="text" id="text_backgroundName" 
                                placeholder="Background" data-corners="false"/>
                            <input type="text" id="text_midgroundName" 
                                placeholder="Midground" data-corners="false"/>
                            <input type="text" id="text_foregroundName" 
                                placeholder="Foreground" data-corners="false"/>
                            <input type="button" id="butt_loadBackground" value="Load" 
                                data-corners="false"/>
                        </div> 
                        <div class="ui-body ui-body-a">
                            <input type="button" id="butt_startPoly"
                                   value="Start Polygon" data-corners="false">
                            <input type="button" id="butt_endPoly"
                                   value="End Polygon" data-corners="false">
                        </div>
                        
                    </div>
                    
                </div>
            </div>
            <div data-role="footer" id="page1_footer">
                <h1>Space Runner Level Creator</h1> 
            </div>
        </div>
        <script>
            $(function(){
                var PLAYGROUND = "#playground";
                var PLAYGROUND_WIDTH = $(PLAYGROUND).width();
                var PLAYGROUND_HEIGHT = $(PLAYGROUND).height();
                $(PLAYGROUND).playground({height: PLAYGROUND_HEIGHT, width:PLAYGROUND_WIDTH});
                $.playground().startGame();
                
                var background;
                var midground;
                var foreground;
                
                var loadBackground = "#butt_loadBackground";
                var textBackgroundName = "#text_backgroundName";
                var textMidgroundName = "#text_midgroundName";
                var textForegroundName = "#text_foregroundName";
                
                //--------------------------------------------------------------
                //--    Buttons
                //--------------------------------------------------------------
                
                $(loadBackground).on('click',function(){
                    if($(textBackgroundName).val()){
                        $("#background").remove();
                        background = new $.gQ.Animation({imageURL: $(textBackgroundName).val()});
                        $.playground().addSprite("background",{animation: background, height: 320, width: 2500});
                    }   
                    if($(textMidgroundName).val()){
                        $("#midground").remove();
                        midground = new $.gQ.Animation({imageURL: $(textMidgroundName).val()});
                        $.playground().addSprite("midground",{animation: midground, height: 320, width: 2500});
                    }
                    if($(textForegroundName).val()){
                        $("#foreground").remove();
                        foreground = new $.gQ.Animation({imageURL: $(textForegroundName).val()});
                        $.playground().addSprite("foreground",{animation: foreground, height: 320, width: 2500});
                    }
                });
            });
        </script>
    </body>
</html>
