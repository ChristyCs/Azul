<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
       <link rel="shortcut icon" href="favicon.ico" />
       <link rel="stylesheet" type="text/css" href="css/index.css">
       <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>   
       <script type="text/javascript" src="js/GameEngine.js"></script>
       <script type="text/javascript" src="js/GameLevel.js"></script>
    </head>
    <body>
        <canvas id="viewport" height="320" width="568" style="background-color: rgb(200,220,255);"></canvas>
        <script>           
            $(document).ready(function(){               
                var WIDTH = window.innerWidth;
                var HEIGHT = window.innerHeight;
                $("#viewport").attr({
                    'width':WIDTH,
                    'height':HEIGHT
                });
                
                var FRAME_RATE = 50;
                var GAME_LOOP = new GameEngine.GameLoop(FRAME_RATE);
                
               
                var canvas = $("#viewport").get(0);
                var GAME_LEVEL = new GameEngine.Level(canvas);
                var GAME_LOOP_ID = GAME_LOOP.start();
                console.log(GAME_LOOP_ID);
                GAME_LEVEL.init(GAME_LOOP_ID, FRAME_RATE);                
                
                
                console.log("Done Creating Base");               
                 
                var isPaused = false;
                $('body').click(function(){  
                    if(isPaused){
                        GAME_LOOP.start();
                        isPaused = false;
                    }else{
                        GAME_LOOP.stop();
                        GAME_LEVEL.loadLevel("js/TestJson.json");
                        isPaused = true;
                    }                   
                });
                
                
//                $('body').on('updateGame', function(gameID, currentGameTick){
//                   console.log(gameID+" : "+currentGameTick); 
//                });
                
            });
        </script>
    </body>
</html>
